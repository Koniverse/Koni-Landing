include ../_includes/variables
include ../_mixins/index

doctype html
html(lang='en')
    head
        block head
            +common-meta-tags

            - var displayTitle = title + (title ? ' - ' : '') + siteName
            title=displayTitle

            +favicon-and-appicons

            link(rel='stylesheet' href=url('/main.css'))
            link(rel='stylesheet' href=url('slick/slick.css') type='text/css')
            link(rel='stylesheet' href=url('slick/slick-theme.css') type='text/css')
            +common-og-tags(displayTitle)
            +google-analytics('G-TRACKING-CODE')
        block head-extra
    body
        div.myblog.main-content
            main.page-content(class=`page-${templateName}`)
                +header
                block content
                +footer
        script(src=url('/main.js'))
        script(src=url('slick/slick.min.js'))
        //script(src=url('one-page-scroll/slideNav.js'))
        script(src=url('bodymovin/lottie.min.js'))
        script.
            //window.slide = new SlideNav({
            //    changeHash: true
            //});

            const bgVideos = document.querySelectorAll('.bg-video')
            bgVideos.forEach(initAnimation)

            function initAnimation(video) {
                const src = video?.dataset.src
                var animation = bodymovin.loadAnimation({
                  container: video,
                  path: src,
                  renderer: 'svg',
                  loop: true,
                  autoplay: true
                })
            }
